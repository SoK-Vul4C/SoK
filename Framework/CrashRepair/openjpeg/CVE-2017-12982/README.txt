Affected version:
2.2.0

Source code:
git clone https://github.com/uclouvain/openjpeg.git

Commit hash:
3d7cde5fc9fbc5618d02160900d32e02ed12a00e

Command:
> cd /path/to/compile/source
> ./bin/opj_compress -n 1 -i $FILE -o null.j2c

Expected Output:
==158052==ERROR: AddressSanitizer failed to allocate 0x5ea7983000 (406538694656) bytes of LargeMmapAllocator (error code: 12)
==158052==Process memory map follows:
	0x00007fff7000-0x00008fff7000	
	0x00008fff7000-0x02008fff7000	
	0x02008fff7000-0x10007fff8000	
	0x555555400000-0x555555542000	/home/skd/benchmark-setup/openjpeg/CVE-2017-12982/source/bin/opj_compress
	0x555555741000-0x555555742000	/home/skd/benchmark-setup/openjpeg/CVE-2017-12982/source/bin/opj_compress
	0x555555742000-0x555555812000	/home/skd/benchmark-setup/openjpeg/CVE-2017-12982/source/bin/opj_compress
	0x600000000000-0x602000000000
	...	
==158052==End of process memory map.
==158052==AddressSanitizer CHECK failed: ../../../../src/libsanitizer/sanitizer_common/sanitizer_common.cc:118 "((0 && "unable to mmap")) != (0)" (0x0, 0x0)
    #0 0x7ffff6f01bf2  (/usr/lib/x86_64-linux-gnu/libasan.so.4+0xe9bf2)
    #1 0x7ffff6f20575 in __sanitizer::CheckFailed(char const*, int, char const*, unsigned long long, unsigned long long) (/usr/lib/x86_64-linux-gnu/libasan.so.4+0x108575)
    #2 0x7ffff6f0b482  (/usr/lib/x86_64-linux-gnu/libasan.so.4+0xf3482)
    #3 0x7ffff6f17895  (/usr/lib/x86_64-linux-gnu/libasan.so.4+0xff895)
    #4 0x7ffff6e448f1  (/usr/lib/x86_64-linux-gnu/libasan.so.4+0x2c8f1)
    #5 0x7ffff6e3f1ad  (/usr/lib/x86_64-linux-gnu/libasan.so.4+0x271ad)
    #6 0x7ffff6ef7753 in posix_memalign (/usr/lib/x86_64-linux-gnu/libasan.so.4+0xdf753)

