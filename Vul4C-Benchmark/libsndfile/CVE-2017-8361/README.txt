Affected version:
1.0.28

Source code:
git clone https://github.com/libsndfile/libsndfile.git

Commit hash:
1d928bffdb65e827c3e7d17ece0e123b4a70ec6c

Command:
> cd /path/to/compile/source
> ./programs/sndfile-convert $FILE out.wav

Expected Output:
=================================================================
==407920==ERROR: AddressSanitizer: global-buffer-overflow on address 0x5555557c1ba0 at pc 0x555555465014 bp 0x7fffffffdcf0 sp 0x7fffffffdce0
WRITE of size 4 at 0x5555557c1ba0 thread T0
    #0 0x555555465013 in flac_buffer_copy /home/skd/benchmark-setup/libsndfile/CVE-2017-8361/source/src/flac.c:267
    #1 0x555555465fd1 in sf_flac_write_callback /home/skd/benchmark-setup/libsndfile/CVE-2017-8361/source/src/flac.c:390
    #2 0x7ffff6bee80e  (/usr/lib/x86_64-linux-gnu/libFLAC.so.8+0x4d80e)
    #3 0x7ffff6bf1d1c in FLAC__stream_decoder_process_single (/usr/lib/x86_64-linux-gnu/libFLAC.so.8+0x50d1c)
    #4 0x5555554690d8 in flac_read_loop /home/skd/benchmark-setup/libsndfile/CVE-2017-8361/source/src/flac.c:932
    #5 0x5555554694f3 in flac_read_flac2i /home/skd/benchmark-setup/libsndfile/CVE-2017-8361/source/src/flac.c:979
    #6 0x55555543aba1 in sf_readf_int /home/skd/benchmark-setup/libsndfile/CVE-2017-8361/source/src/sndfile.c:1835
    #7 0x55555542f7c6 in sfe_copy_data_int /home/skd/benchmark-setup/libsndfile/CVE-2017-8361/source/programs/common.c:87
    #8 0x55555542f1f7 in main /home/skd/benchmark-setup/libsndfile/CVE-2017-8361/source/programs/sndfile-convert.c:340
    #9 0x7ffff5d56c86 in __libc_start_main (/lib/x86_64-linux-gnu/libc.so.6+0x21c86)
    #10 0x55555542dc59 in _start (/home/skd/benchmark-setup/libsndfile/CVE-2017-8361/source/programs/sndfile-convert+0x2dc59)

