--- PATCH 19 ---
@@ -988,7 +988,7 @@
 			}
 			break;
 		case SAMPLEFORMAT_UINT:
-			if (tif->tif_dir.td_bitspersample<=8)
+			if ((tif->tif_dir.td_bitspersample<=8) && (((value < 255) && (0 < value))))
 			{
 				for (i = 0; i < count; ++i)
 					((uint8*)conv)[i] = (uint8)value[i];